(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{170:function(e,t,a){"use strict";var n=a(136),r=a.n(n).a.create({baseURL:"http://ace033ded550.ngrok.io/",headers:{"X-Secure-Code":"12345678"}});t.a=r},445:function(e,t){},531:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(16),c=a(223),i=a(224),o=a(226),s=a(227),l=a(368),d=a.n(l),u=a(370),j=a.n(u),b=a(207),h=a.n(b),p=[{locale:"en",messages:a.e(31).then(a.bind(null,1058))},{locale:"ru",messages:a.e(32).then(a.bind(null,1059))},{locale:"de",messages:a.e(30).then(a.bind(null,1060))}],m=a(85),x=a.n(m),g=a(75),f=a.n(g),O=a(24),y=a(356),v=a(209),I=a(5),w=a(570),k=a(584),_=a(330),C=a(380),T=a(311),N=a(92),L=a.n(N),M=a(329),P=a(333),z=a(69),R=a(212),D=a(374),S=a.n(D),B=a(325),H=a(37),A=a(25),V=a(231),G=a(317),F=a(318),U=a(322),E=a(320),J=a(319),q=a(21),Q=a(581),X=a(577),Z=a(6),$=Object(v.a)((function(e){return{root:{flexGrow:1},alertShown:{opacity:1,transition:"all 250ms linear",zIndex:1},alertHidden:{opacity:0,transition:"all 250ms linear"}}})),K=Object(I.a)((function(e){return{root:{margin:0,padding:e.spacing(2)}}}))((function(e){var t=e.children,a=e.classes,n=(e.onClose,Object(V.a)(e,["children","classes","onClose"]));return Object(Z.jsx)(U.a,Object(A.a)(Object(A.a)({disableTypography:!0,className:a.root},n),{},{children:Object(Z.jsx)(z.a,{variant:"h6",children:t})}))})),W=Object(I.a)((function(e){return{root:{padding:e.spacing(2),width:286}}}))(E.a),Y=Object(I.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(J.a),ee=function(e){$();var t=e.isOpen,a=e.closeDialog,r=e.triggerImageInput,c=e.inputRef,i=e.pData;console.log(i);var o=Object(n.useState)(null),s=Object(H.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)(!1),j=Object(H.a)(u,2),b=j[0],h=j[1];return l?Object(Z.jsx)(q.c,{to:{pathname:"/cropAvatar",state:{image:l,pData:i}}}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(F.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:t,children:[Object(Z.jsx)(K,{id:"customized-dialog-title",onClose:!0,children:"\u7de8\u8f2f\u500b\u4eba\u6a94\u6848\u5716\u7247"}),Object(Z.jsx)(W,{children:Object(Z.jsx)(z.a,{style:{color:"#919191"},gutterBottom:!0,children:"\u8acb\u9078\u64c7\u60a8\u7684\u500b\u4eba\u982d\u8cbc"})}),Object(Z.jsx)(Y,{children:Object(Z.jsx)(G.a,{autoFocus:!0,onClick:!1,style:{color:"#007aff"},children:"\u62cd\u651d\u76f8\u7247"})}),Object(Z.jsxs)(Y,{children:[Object(Z.jsx)("input",{ref:c,type:"file",id:"avatar_img",name:"avatar_img",accept:"image/*",onChange:function(e){!function(e){e.target.files[0]&&(e.target.files[0].size>1048576?h(!0):d(URL.createObjectURL(e.target.files[0])))}(e)},hidden:!0}),Object(Z.jsx)(G.a,{autoFocus:!0,onClick:r,style:{color:"#007aff"},children:"\u5f9e\u76f8\u7c3f\u4e2d\u9078\u53d6"})]}),Object(Z.jsx)(Y,{children:Object(Z.jsx)(G.a,{autoFocus:!0,onClick:a,style:{color:"#007aff"},children:"\u53d6\u6d88"})})]}),Object(Z.jsx)(X.a,{open:b,autoHideDuration:3e3,onClose:function(e,t){"clickaway"!==t&&h(!1)},children:Object(Z.jsx)(Q.a,{severity:"error",children:"\u5716\u7247\u4e0d\u53ef\u5927\u65bc1mb! \u8acb\u91cd\u65b0\u9078\u64c7\u5716\u7247\u3002"})})]})},te=function(){var e=Object(n.useState)(!1),t=Object(H.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)();return{isOpen:a,openDialog:function(){r(!0)},closeDialog:function(){r(!1)},inputRef:c,triggerImageInput:function(){c.current.click()}}},ae=a(32),ne=a.n(ae),re=a(53),ce=a(170),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(n.useState)(!e),a=Object(H.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(e||{}),o=Object(H.a)(i,2),s=o[0],l=o[1],d=Object(n.useState)(""),u=Object(H.a)(d,2),j=u[0],b=u[1],h=Object(n.useState)(""),p=Object(H.a)(h,2),m=p[0],x=p[1],g=Object(n.useState)(""),f=Object(H.a)(g,2),O=f[0],y=f[1],v=Object(n.useState)(""),I=Object(H.a)(v,2),w=I[0],k=(I[1],Object(n.useState)("")),_=Object(H.a)(k,2),C=_[0];_[1];Object(n.useEffect)((function(){e||T()}),[e]);var T=function(){var e=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userId")?localStorage.getItem("userId"):1,e.next=3,ce.a.get("/api/user/"+t).then((function(e){c(!1),e.data.users.gender=e.data.users.gender?"\u7537":"\u5973",console.log(e.data.users.name),l(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.target.value;l(Object(A.a)(Object(A.a)({},s),{},{users:Object(A.a)(Object(A.a)({},s.users),{},{name:t})})),b(""==t?"\u59d3\u540d\u4e0d\u53ef\u70ba\u7a7a":"")},L=function(e){var t=e.target.value;l(Object(A.a)(Object(A.a)({},s),{},{users:Object(A.a)(Object(A.a)({},s.users),{},{gender:t})})),x("\u7537"==t||"\u5973"==t?"":"\u8acb\u586b\u5165 \u7537 \u6216 \u5973")},M=function(e){var t=e.target.value;l(Object(A.a)(Object(A.a)({},s),{},{users:Object(A.a)(Object(A.a)({},s.users),{},{phone_number:t})}));var a=new RegExp(/^\d*$/).test(t);y(a?"":"\u53ea\u5141\u8a31\u6578\u5b57")},P=function(e){var t=e.target.value;l(Object(A.a)(Object(A.a)({},s),{},{users:Object(A.a)(Object(A.a)({},s.users),{},{birth:t})}))},z=function(e){var t=e.target.value;l(Object(A.a)(Object(A.a)({},s),{},{users:Object(A.a)(Object(A.a)({},s.users),{},{county:Object(A.a)(Object(A.a)({},s.users.county),{},{name:t})})}))},R=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},D=function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n,r,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),a=localStorage.getItem("userId")?localStorage.getItem("userId"):1,!t.croppedImage){e.next=11;break}return e.next=5,fetch(t.croppedImage).then((function(e){return e.blob()}));case 5:return n=e.sent,r=new File([n],"1234567890.jpg",{lastModified:new Date,type:"image/jpeg"}),e.next=9,R(r);case 9:i=e.sent,t.croppedImage=i;case 11:return e.abrupt("return",ce.a.put("/api/user/"+a,{name:t.name,gender:t.gender,phone_number:t.phone_number,birth:t.birth,image:t.croppedImage?t.croppedImage:t.image,county:t.county,country_code_id:t.countryCode}).then((function(e){return e.status})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{isLoading:r,personalInfo:s,handleNameChange:N,handleSexChange:L,handleTelChange:M,handleBirthChange:P,handleCountyChange:z,updateInfo:D,getPersonalInfo:T,validations:{nameValidation:j,genderValidation:m,phoneValidation:O,birthValidation:w,countyValidation:C}}},oe=Object(v.a)((function(e){return{root:{flexGrow:1},top_bar_bg_color:{backgroundColor:"#3c5754",height:56},textfield_container:{marginTop:15,background:"white"},title:{flexGrow:1,marginLeft:32},avatar:{width:96,height:96},gridMargin:{marginTop:32},textfield:{marginTop:8,marginBottom:8,paddingLeft:24,flexGrow:1,width:"100%"},textfield_phone:{marginTop:8,marginBottom:8,flexGrow:1,width:"100%"},textfield_country_code:{marginTop:8,marginBottom:8},textLabel:{paddingLeft:15},finishButton:{padding:0,paddingLeft:40},avatarOverlay:{position:"absolute",bottom:0,height:"20%",width:"100%",backgroundColor:"black",textAlign:"center",verticalAlign:"middle",lineHeight:"150%",color:"white",fontSize:12,opacity:"80%"},avatarContainer:{background:"yellow",width:96,height:96,position:"relative",borderRadius:"50% 50%",margin:0,padding:0,zIndex:100,overflow:"hidden"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),se=Object(I.a)({root:{"& .MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 1)"},"& .MuiInput-underline.Mui-disabled:before":{borderBottom:"solid 1px rgba(0, 0, 0, 0.12)"}}})(B.a);var le=function(e){var t=Object(q.k)(),a=ie(),n=void 0===e.location.state?null:e.location.state.croppedImage;n&&(e.location.state.croppedImage=null,-1==n.search("blob:")&&(Object(y.a)("croppedImage"),n=null));var r=te(),c=r.isOpen,i=(r.openDialog,r.closeDialog),o=r.inputRef,s=r.triggerImageInput,l=oe();return Object(Z.jsxs)("div",{className:l.root,children:[Object(Z.jsx)(M.a,{position:"static",style:{background:"#3c5754"},children:Object(Z.jsxs)(P.a,{children:[Object(Z.jsx)(R.a,{edge:"start",color:"inherit","aria-label":"back",onClick:function(){return t.goBack()},children:Object(Z.jsx)(L.a,{})}),Object(Z.jsx)(z.a,{variant:"h6",className:l.title,children:"\u500b\u4eba\u6a94\u6848"}),Object(Z.jsx)(R.a,{color:"inherit",edge:"end",onClick:function(){t.push({pathname:"/editAccount",state:{pData:a.personalInfo}})},children:Object(Z.jsx)(S.a,{})})]})}),Object(Z.jsxs)(w.a,{container:!0,direction:"column",alignItems:"center",justify:"flex-start",className:l.gridMargin,children:[Object(Z.jsxs)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",spacing:2,children:[Object(Z.jsx)(w.a,{item:!0,xs:12,children:Object(Z.jsx)("div",{className:l.avatarContainer,children:Object(Z.jsx)(k.a,{src:null==n?a.personalInfo.users?a.personalInfo.users.image:"":n,className:l.avatar})})}),Object(Z.jsx)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",spacing:.5,children:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(w.a,{item:!0,xs:12,children:Object(Z.jsx)(z.a,{variant:"h6",style:{color:"#232323"},children:a.personalInfo.users?a.personalInfo.users.name:"loading"})}),Object(Z.jsx)(w.a,{item:!0,xs:12,children:Object(Z.jsx)(z.a,{variant:"h7",style:{color:"#919191"},children:a.personalInfo.users?a.personalInfo.users.email:"loading"})})]})})]}),Object(Z.jsx)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",children:Object(Z.jsxs)(w.a,{item:!0,xs:12,container:!0,direction:"row",alignItems:"center",justify:"flex-start",className:l.textfield_container,spacing:0,children:[Object(Z.jsx)(w.a,{item:!0,xs:12,children:Object(Z.jsx)(_.a,{})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u59d3\u540d"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsx)(se,{disabled:!0,id:"standard-basic",placeholder:"\u59d3\u540d",className:l.textfield,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.name,underline:{color:"red","&::before":{borderBottom:"2px solid red"}}}})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u6027\u5225"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsx)(se,{disabled:!0,id:"standard-basic",placeholder:"\u6027\u5225",className:l.textfield,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.gender,readOnly:!0}})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u570b\u78bc"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsxs)("div",{className:l.textfield,children:[Object(Z.jsx)(se,{disabled:!0,placeholder:"\u570b\u78bc",labelId:"country-code",id:"country-code",style:{width:"30%"},className:l.textfield_country_code,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.countrycodes[a.personalInfo.users.country_code_id-1].phone_code}}),Object(Z.jsx)(se,{disabled:!0,id:"standard-basic",placeholder:"\u624b\u6a5f",style:{width:"70%"},className:l.textfield_phone,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.phone_number}})]})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u751f\u65e5"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsx)(se,{disabled:!0,id:"standard-basic",placeholder:"\u751f\u65e5",className:l.textfield,type:"date",InputLabelProps:{shrink:!0},inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.birth}})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u5c45\u4f4f\u5730"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsx)(se,{disabled:!0,id:"standard-basic",placeholder:"\u5c45\u4f4f\u5730",className:l.textfield,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.county?a.personalInfo.users.county.name:""}})})]})})]}),Object(Z.jsx)(ee,{isOpen:c,triggerImageInput:s,closeDialog:i,inputRef:o}),Object(Z.jsx)(C.a,{className:l.backdrop,open:a.isLoading,children:Object(Z.jsx)(T.a,{})})]})},de=a(371),ue=Object(v.a)((function(e){return{root:{flexGrow:1},top_bar_bg_color:{backgroundColor:"#3c5754",height:56},textfield_container:{marginTop:15,background:"white"},title:{flexGrow:1,marginLeft:32},avatar:{width:96,height:96},gridMargin:{marginTop:32},textfield:{marginTop:8,marginBottom:8,paddingLeft:24,flexGrow:1,width:"100%"},textfield_phone:{marginTop:8,marginBottom:8,flexGrow:1,width:"100%"},textLabel:{paddingLeft:15},finishButton:{padding:0,paddingLeft:40},avatarOverlay:{position:"absolute",bottom:0,height:"20%",width:"100%",backgroundColor:"black",textAlign:"center",verticalAlign:"middle",lineHeight:"150%",color:"white",fontSize:12,opacity:"80%"},avatarContainer:{background:"yellow",width:96,height:96,position:"relative",borderRadius:"50% 50%",margin:0,padding:0,zIndex:100,overflow:"hidden"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var je=function(e){var t=Object(q.k)();void 0===e.location.state&&t.push({pathname:"/personalPage"});var a=e.location.state?e.location.state.pData:{},n=ie(a),r=n.personalInfo,c=n.handleNameChange,i=n.handleSexChange,o=n.handleTelChange,s=n.handleBirthChange,l=n.handleCountyChange,d=n.updateInfo,u=n.isLoading,j=n.validations;console.log(r);var b=void 0===e.location.state?null:e.location.state.croppedImage,h=te(),p=h.isOpen,m=h.openDialog,x=h.closeDialog,g=h.inputRef,f=h.triggerImageInput,O=function(){var e=Object(re.a)(ne.a.mark((function e(){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:r.users.name,gender:"\u7537"===r.users.gender?1:0,phone_number:r.users.phone_number,birth:r.users.birth,croppedImage:b,image:r.users.image,county:r.users.county.name,countryCode:document.getElementById("country-code").value},e.next=3,d(a);case 3:200==e.sent&&t.push({pathname:"/personalPage"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=ue();return Object(Z.jsxs)("div",{className:y.root,children:[Object(Z.jsx)(M.a,{position:"static",style:{background:"#3c5754"},children:Object(Z.jsxs)(P.a,{children:[Object(Z.jsx)(R.a,{edge:"start",color:"inherit","aria-label":"back",onClick:function(){return t.goBack()},children:Object(Z.jsx)(L.a,{})}),Object(Z.jsx)(z.a,{variant:"h6",className:y.title,children:"\u500b\u4eba\u6a94\u6848"}),Object(Z.jsx)(G.a,{className:y.finishButton,color:"inherit",edge:"end",onClick:function(){j.nameValidation||j.genderValidation||j.phoneValidation||O()},children:"\u5b8c\u6210"})]})}),Object(Z.jsxs)(w.a,{container:!0,direction:"column",alignItems:"center",justify:"flex-start",className:y.gridMargin,children:[Object(Z.jsxs)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",spacing:2,children:[Object(Z.jsx)(w.a,{item:!0,xs:12,children:Object(Z.jsxs)("div",{className:y.avatarContainer,children:[Object(Z.jsx)(k.a,{src:b||(r.users?r.users.image:""),className:y.avatar}),Object(Z.jsx)("div",{class:y.avatarOverlay,onClick:function(){m()},children:"\u66f4\u63db"})]})}),Object(Z.jsx)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",spacing:.5,children:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(w.a,{item:!0,xs:12,children:Object(Z.jsx)(z.a,{variant:"h7",style:{color:"#919191"},children:r.users?r.users.email:"loading"})}),Object(Z.jsx)(w.a,{item:!0,xs:12,children:Object(Z.jsx)("div",{style:{height:32}})})]})})]}),Object(Z.jsx)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",children:Object(Z.jsxs)(w.a,{item:!0,xs:12,container:!0,direction:"row",alignItems:"center",justify:"flex-start",className:y.textfield_container,spacing:0,children:[Object(Z.jsx)(w.a,{item:!0,xs:12,children:Object(Z.jsx)(_.a,{})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:y.textLabel,children:"\u59d3\u540d"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsx)(B.a,{id:"standard-basic",placeholder:"\u59d3\u540d",error:!!j.nameValidation,helperText:j.nameValidation?j.nameValidation:"",className:y.textfield,onChange:c,inputProps:{value:r.users?r.users.name:""}})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:y.textLabel,children:"\u6027\u5225"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsx)(B.a,{id:"standard-basic",error:!!j.genderValidation,helperText:j.genderValidation?j.genderValidation:"",placeholder:"\u6027\u5225",onChange:i,className:y.textfield,inputProps:{value:r.users?r.users.gender:""}})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:y.textLabel,children:"\u570b\u78bc"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsxs)("div",{className:y.textfield,children:[Object(Z.jsxs)(de.a,{labelId:"country-code",id:"country-code",style:{width:"30%"},className:y.textfield,children:[Object(Z.jsx)("option",{value:r.countrycodes[r.users.country_code_id-1].id,children:r.countrycodes[r.users.country_code_id-1].phone_code},"default"),r.countrycodes.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.phone_code},e.country_code+e.country_name)}))]}),Object(Z.jsx)(B.a,{id:"standard-basic",placeholder:"\u624b\u6a5f",error:!!j.phoneValidation,helperText:j.phoneValidation?j.phoneValidation:"",style:{width:"70%"},className:y.textfield_phone,onChange:o,inputProps:{value:r.users?r.users.phone_number:""}})]})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:y.textLabel,children:"\u751f\u65e5"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsx)(B.a,{id:"standard-basic",placeholder:"\u751f\u65e5",className:y.textfield,type:"date",onChange:s,InputLabelProps:{shrink:!0},inputProps:{value:r.users?r.users.birth:""}})}),Object(Z.jsx)(w.a,{item:!0,xs:3,children:Object(Z.jsx)(z.a,{variant:"body1",className:y.textLabel,children:"\u5c45\u4f4f\u5730"})}),Object(Z.jsx)(w.a,{item:!0,xs:9,children:Object(Z.jsx)(B.a,{id:"standard-basic",placeholder:"\u5c45\u4f4f\u5730",onChange:l,className:y.textfield,inputProps:{value:r.users&&r.users.county?r.users.county.name:""}})})]})})]}),Object(Z.jsx)(ee,{isOpen:p,triggerImageInput:f,closeDialog:x,inputRef:g,pData:r}),Object(Z.jsx)(C.a,{className:y.backdrop,open:u,children:Object(Z.jsx)(T.a,{})})]})},be=a(366),he=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function pe(e){return e*Math.PI/180}function me(e,t){return xe.apply(this,arguments)}function xe(){return(xe=Object(re.a)(ne.a.mark((function e(t,a){var n,r,c,i,o,s,l,d=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:0,e.next=3,he(t);case 3:return r=e.sent,c=document.createElement("canvas"),i=c.getContext("2d"),o=Math.max(r.width,r.height),s=o/2*Math.sqrt(2)*2,c.width=s,c.height=s,i.translate(s/2,s/2),i.rotate(pe(n)),i.translate(-s/2,-s/2),i.drawImage(r,s/2-.5*r.width,s/2-.5*r.height),l=i.getImageData(0,0,s,s),c.width=a.width,c.height=a.height,i.putImageData(l,Math.round(0-s/2+.5*r.width-a.x),Math.round(0-s/2+.5*r.height-a.y)),e.abrupt("return",new Promise((function(e){c.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=Object(v.a)((function(e){return{root:{flexGrow:1},imgContainer:{display:"flex",justifyContent:"center",marginTop:88},title:{flexGrow:1,marginLeft:32},finishButton:{padding:0,paddingLeft:40}}})),fe=function(e){var t=Object(q.k)(),a=e.location.state?e.location.state.image:null;a||t.goBack();var r=e.location.state.pData,c=Object(n.useState)({x:0,y:0}),i=Object(H.a)(c,2),o=i[0],s=i[1],l=Object(n.useState)(1),d=Object(H.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(null),h=Object(H.a)(b,2),p=h[0],m=h[1],x=Object(n.useCallback)((function(e,t){m(t)}),[]),g=Object(n.useCallback)(Object(re.a)(ne.a.mark((function t(){var n;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,me(a,p);case 3:n=t.sent,console.log("donee",{croppedImage:n}),e.history.push({pathname:"/editAccount",state:{croppedImage:n,pData:r}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),[p]),f=ge();return Object(Z.jsxs)("div",{className:f.root,children:[Object(Z.jsx)(M.a,{className:f.appBar,position:"relative",style:{background:"#3c5754"},children:Object(Z.jsxs)(P.a,{children:[Object(Z.jsx)(R.a,{edge:"start",color:"inherit","aria-label":"back",onClick:function(){return t.push({pathname:"/editAccount",state:{pData:r}})},children:Object(Z.jsx)(L.a,{})}),Object(Z.jsx)(z.a,{variant:"h6",className:f.title,children:"\u500b\u4eba\u6a94\u6848\u76f8\u7247"}),Object(Z.jsx)(G.a,{className:f.finishButton,color:"inherit",edge:"end",onClick:function(){g()},children:"\u4e0b\u4e00\u6b65"})]})}),Object(Z.jsx)("div",{className:f.imgContainer,children:Object(Z.jsx)("div",{className:f.cropContainer,children:Object(Z.jsx)(be.default,{cropShape:"round",image:a,crop:o,zoom:u,aspect:1,onCropChange:s,onZoomChange:j,onCropComplete:x,onImageLoaded:function(e){console.log(e)}})})})]})},Oe=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(7),a.e(45)]).then(a.bind(null,1061))})),ye=Object(n.lazy)((function(){return a.e(43).then(a.bind(null,1062))})),ve=Object(n.lazy)((function(){return Promise.all([a.e(8),a.e(34)]).then(a.bind(null,1063))})),Ie=Object(n.lazy)((function(){return Promise.all([a.e(3),a.e(12)]).then(a.bind(null,1086))})),we=Object(n.lazy)((function(){return a.e(25).then(a.bind(null,1065))})),ke=Object(n.lazy)((function(){return a.e(47).then(a.bind(null,1066))})),_e=Object(n.lazy)((function(){return a.e(28).then(a.bind(null,1067))})),Ce=Object(n.lazy)((function(){return a.e(29).then(a.bind(null,1068))})),Te=Object(n.lazy)((function(){return a.e(46).then(a.bind(null,1069))})),Ne=Object(n.lazy)((function(){return a.e(16).then(a.bind(null,1070))})),Le=Object(n.lazy)((function(){return Promise.all([a.e(13),a.e(39)]).then(a.bind(null,1089))})),Me=Object(n.lazy)((function(){return a.e(40).then(a.bind(null,1072))})),Pe=Object(n.lazy)((function(){return a.e(14).then(a.bind(null,1090))})),ze=Object(n.lazy)((function(){return a.e(15).then(a.bind(null,1073))})),Re=Object(n.lazy)((function(){return Promise.all([a.e(23),a.e(17)]).then(a.bind(null,1087))})),De=Object(n.lazy)((function(){return a.e(18).then(a.bind(null,1074))})),Se=Object(n.lazy)((function(){return a.e(21).then(a.bind(null,1091))})),Be=Object(n.lazy)((function(){return a.e(44).then(a.bind(null,1092))})),He=Object(n.lazy)((function(){return a.e(33).then(a.bind(null,1075))})),Ae=Object(n.lazy)((function(){return a.e(22).then(a.bind(null,1076))})),Ve=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(35)]).then(a.bind(null,1077))})),Ge=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(36)]).then(a.bind(null,1085))})),Fe=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(9),a.e(37)]).then(a.bind(null,1078))})),Ue=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(38)]).then(a.bind(null,1079))})),Ee=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(19)]).then(a.bind(null,1088))})),Je=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(11),a.e(2),a.e(27)]).then(a.bind(null,1093))})),qe=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(10),a.e(2),a.e(24)]).then(a.bind(null,1080))})),Qe=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(2),a.e(26)]).then(a.bind(null,1081))})),Xe=[Object(Z.jsx)(f.a,{path:"/signin",redirectTo:"/",exact:!0,component:Le}),Object(Z.jsx)(f.a,{path:"/signup",redirectTo:"/",exact:!0,component:Oe}),Object(Z.jsx)(f.a,{path:"/verify2",redirectTo:"/",exact:!0,component:Me}),Object(Z.jsx)(f.a,{path:"/login1_1",redirectTo:"/",exact:!0,component:Ve}),Object(Z.jsx)(f.a,{path:"/login1_2",redirectTo:"/",exact:!0,component:Ge}),Object(Z.jsx)(f.a,{path:"/register0_1",redirectTo:"/",exact:!0,component:Fe}),Object(Z.jsx)(f.a,{path:"/resetPassword",redirectTo:"/",exact:!0,component:Ue}),Object(Z.jsx)(f.a,{path:"/password_reset",redirectTo:"/",exact:!0,component:ye}),Object(Z.jsx)(O.HashRouter,{path:"/searchPage",exact:!0,component:Pe}),Object(Z.jsx)(O.HashRouter,{path:"/searchQuick/:id",exact:!0,component:ze}),Object(Z.jsx)(O.HashRouter,{path:"/searchResult",exact:!0,component:Re}),Object(Z.jsx)(O.HashRouter,{path:"/personalPage",exact:!0,component:le}),Object(Z.jsx)(O.HashRouter,{path:"/editAccount",exact:!0,component:je}),Object(Z.jsx)(O.HashRouter,{path:"/cropAvatar",exact:!0,component:fe}),Object(Z.jsx)(O.HashRouter,{path:"/privacyPolicy",exact:!0,component:Be}),Object(Z.jsx)(O.HashRouter,{path:"/aboutUs",exact:!0,component:He}),Object(Z.jsx)(O.HashRouter,{path:"/Home",exact:!0,component:Ie}),Object(Z.jsx)(O.HashRouter,{path:"/about",exact:!0,component:ve}),Object(Z.jsx)(O.HashRouter,{path:"/collectPage",exact:!0,component:De}),Object(Z.jsx)(O.HashRouter,{path:"/collectPage2",exact:!0,component:Se}),Object(Z.jsx)(O.HashRouter,{path:"/columnPage/:id",exact:!0,component:Ae}),Object(Z.jsx)(O.HashRouter,{path:"/NearByPathway",exact:!0,component:Ee}),Object(Z.jsx)(O.HashRouter,{path:"/attraction",exact:!0,component:Je}),Object(Z.jsx)(O.HashRouter,{path:"/pathway",exact:!0,component:qe}),Object(Z.jsx)(O.HashRouter,{path:"/announcement",exact:!0,component:Qe}),Object(Z.jsx)(x.a,{path:"/my_account",exact:!0,component:Ne}),Object(Z.jsx)(x.a,{path:"/home",exact:!0,component:Ie}),Object(Z.jsx)(x.a,{path:"/dialog_demo",exact:!0,component:we}),Object(Z.jsx)(x.a,{path:"/toast_demo",exact:!0,component:ke}),Object(Z.jsx)(x.a,{path:"/filter_demo",exact:!0,component:_e}),Object(Z.jsx)(x.a,{path:"/list_page_demo",exact:!0,component:Ce}),Object(Z.jsx)(x.a,{path:"/tabs_demo",exact:!0,component:Te})],Ze=a(346),$e=a(351),Ke=a(334),We=a(338),Ye=a(347),et=a(337),tt=a(354),at=a(335),nt=a(349),rt=a(341),ct=a(353),it=a(352),ot=a(345),st=a(350),lt=a(348),dt=a(336),ut=a(342),jt=a(343),bt=a(344),ht=a(114),pt=a.n(ht),mt=a(365),xt=a.n(mt),gt=a(215),ft=a.n(gt),Ot=[{id:"default"},{id:"red",color:pt.a[500],source:{palette:{primary:pt.a,secondary:xt.a,error:pt.a}}},{id:"green",color:ft.a[500],source:{palette:{primary:ft.a,secondary:pt.a,error:pt.a}}}],yt=function(e){var t=e.intl,a=e.updateLocale,n=e.locale,r=e.menuContext,c=e.themeContext,i=e.a2HSContext,o=e.auth,s=r.toggleThis,l=r.isDesktop,d=r.isAuthMenuOpen,u=r.isMiniSwitchVisibility,j=c.themeID,b=c.setThemeID,h=c.isRTL,m=c.toggleThisTheme,x=o.auth,g=o.setAuth,f=i.isAppInstallable,O=i.isAppInstalled,y=i.deferredPrompt,v=p.map((function(e){return{value:void 0,visible:!0,primaryText:t.formatMessage({id:e.locale}),onClick:function(){a(e.locale)},leftIcon:Object(Z.jsx)(Ze.a,{})}})),I=x.isAuthenticated,w=Ot.map((function(e){return{value:void 0,visible:!0,primaryText:t.formatMessage({id:e.id}),onClick:function(){b(e.id)},leftIcon:Object(Z.jsx)($e.a,{style:{color:e.color}})}}));return d||!I?[{value:"/my_account",primaryText:t.formatMessage({id:"my_account",defaultMessage:"My Account"}),leftIcon:Object(Z.jsx)(Ke.a,{})},{value:"/signin",onClick:I?function(){g({isAuthenticated:!1})}:function(){},visible:!0,primaryText:I?t.formatMessage({id:"sign_out"}):t.formatMessage({id:"sign_in"}),leftIcon:I?Object(Z.jsx)(We.a,{}):Object(Z.jsx)(Ye.a,{})}]:[{value:"/home",visible:I,primaryText:t.formatMessage({id:"home"}),leftIcon:Object(Z.jsx)(et.a,{})},{primaryText:t.formatMessage({id:"demos",defaultMessage:"Demos"}),primaryTogglesNestedList:!0,leftIcon:Object(Z.jsx)(tt.a,{}),nestedItems:[{value:"/dialog_demo",visible:I,primaryText:t.formatMessage({id:"dialog_demo",defaultMessage:"Dialog"}),leftIcon:Object(Z.jsx)(at.a,{})},{value:"/toast_demo",visible:I,primaryText:t.formatMessage({id:"toast_demo",defaultMessage:"Toast"}),leftIcon:Object(Z.jsx)(nt.a,{})},{value:"/filter_demo",visible:I,primaryText:t.formatMessage({id:"filter_demo",defaultMessage:"Filter"}),leftIcon:Object(Z.jsx)(rt.a,{})},{value:"/list_page_demo",visible:I,primaryText:t.formatMessage({id:"list_page_demo_menu",defaultMessage:"List Page"}),leftIcon:Object(Z.jsx)(ct.a,{})},{value:"/tabs_demo",visible:I,primaryText:t.formatMessage({id:"tabs_demo",defaultMessage:"Tabs Page"}),leftIcon:Object(Z.jsx)(it.a,{})}]},{value:"/about",visible:!0,primaryText:t.formatMessage({id:"about"}),leftIcon:Object(Z.jsx)(ot.a,{})},{divider:!0},{primaryText:t.formatMessage({id:"settings"}),primaryTogglesNestedList:!0,leftIcon:Object(Z.jsx)(st.a,{}),nestedItems:[{primaryText:t.formatMessage({id:"theme"}),secondaryText:t.formatMessage({id:j}),primaryTogglesNestedList:!0,leftIcon:Object(Z.jsx)($e.a,{}),nestedItems:w},{primaryText:t.formatMessage({id:"language"}),secondaryText:t.formatMessage({id:n}),primaryTogglesNestedList:!0,leftIcon:Object(Z.jsx)(Ze.a,{}),nestedItems:v},{visible:!!l,onClick:function(){s("isMiniSwitchVisibility")},primaryText:t.formatMessage({id:"menu_mini_mode"}),leftIcon:u?Object(Z.jsx)(lt.a,{}):Object(Z.jsx)(dt.a,{})},{onClick:function(){m("isRTL")},primaryText:"".concat(h?"LTR":"RTL"," mode"),leftIcon:h?Object(Z.jsx)(ut.a,{}):Object(Z.jsx)(jt.a,{})}]},{value:null,visible:f&&!O,onClick:function(){y.prompt()},primaryText:t.formatMessage({id:"install",defaultMessage:"Install"}),leftIcon:Object(Z.jsx)(bt.a,{})}]},vt=a(206),It={auth:{signInURL:"/signin"},routes:Xe,locale:{locales:p,defaultLocale:a.n(vt)()(["en","de","ru"],"en"),onError:function(e){}},menu:{getMenuItems:yt},theme:{themes:Ot,defaultThemeID:"red",defaultIsDarkMode:!1,defaultIsRTL:!1},pages:{LandingPage:Object(n.lazy)((function(){return a.e(41).then(a.bind(null,1056))})),PageNotFound:Object(n.lazy)((function(){return a.e(42).then(a.bind(null,1057))}))}},wt=h()(j.a,It),kt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(Z.jsx)(d.a,{config:wt})}}]),a}(n.Component),_t=a(136),Ct=a.n(_t).a.create({baseURL:"https://go-hiking-backend-laravel.herokuapp.com/"});console.log("https://go-hiking-backend-laravel.herokuapp.com/");var Tt={get:function(e){return Object(re.a)(ne.a.mark((function t(){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct.get(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},post:function(e,t){return Object(re.a)(ne.a.mark((function a(){return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ct.post(e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}};window.axios=Tt,Object(r.render)(Object(Z.jsx)(kt,{}),document.getElementById("root"))}},[[531,5,6]]]);
//# sourceMappingURL=main.db5bcb35.chunk.js.map